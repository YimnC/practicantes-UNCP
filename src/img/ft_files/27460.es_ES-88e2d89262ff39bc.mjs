"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[27460],{857916:(e,t,a)=>{a.d(t,{Di:()=>d,Jl:()=>c,R:()=>u,ZP:()=>f,aU:()=>p,j2:()=>_,pN:()=>m,rL:()=>w,vW:()=>h});var n=a(883119),s=a(205841),o=a(454514),i=a(339001),r=a(624797),l=a(785893);let c=7e3,u="permanent_account_closure",_="account_deletion_email_sent",d="account_deactivated",p="unlink_successful",m="account_switch_to_settings";function g(e,t,a){return(0,l.jsx)(n.xv,{align:a||"center",children:(0,i.nk)(e,{username:(0,l.jsx)(n.xv,{inline:!0,weight:"bold",children:t})})})}function h({i18n:e,message:t,multipleAccounts:a,username:n=""}){switch(t){case u:return e.bt("Se ha eliminado tu cuenta. Te echaremos de menos", "Your account has been deleted. We're sad to see you go", "unauthLoginPage.accountDeletedToast.message", undefined, true);case _:if(a)return g(e.bt("Te hemos enviado un correo con los últimos pasos para cerrar tu cuenta, {{username}}, así como sus cuentas vinculadas", "An email has been sent with final steps to delete your account, {{username}} and its linked accounts", "accountDeletedEmailToast.message.multipleAccounts", undefined, true),n);return g(e.bt("Te hemos enviado un correo electrónico con los últimos pasos para eliminar tu cuenta, {{username}}", "An email has been sent with final steps to delete your account, {{username}}", "accountDeletedEmailToast.message.singleAccount", undefined, true),n);case d:return g(a?e.bt("Se han desactivado la cuenta {{username}} y sus cuentas asociadas vinculadas", "The account, {{username}}, and its associated linked accounts have been deactivated", "unauthLoginPage.deactivatedToast.message.multipleAccounts", undefined, true):e.bt("Se ha desactivado la cuenta {{username}}", "The account, {{username}}, has been deactivated", "unauthLoginPage.deactivatedToast.message.singleAccount", undefined, true),n);case p:return g(e.bt("¡Genial! Has desvinculado esta cuenta para empresas. Ahora mismo estás en {{username}}.", "Success! You've unlinked this business account. You are currently in {{username}}.", "authHomeFeedPage.unlinkAccountToast.message", undefined, true),n,"start");case m:return g(e.bt("Has cambiado de cuenta y actualmente usas {{username}}", "You've switched into and are currently in the account {{username}}", "accountSettings.switchAccountToAccountChanges", undefined, true),n,"start");default:return""}}function f(e,t,a=""){if(!(t&&t.search))return"";let{message:n}=(0,r.mB)(t.search),s=(0,r.mB)(t.search).username||a,o="true"===(0,r.mB)(t.search).multiple_accounts;return h({i18n:e,message:n,multipleAccounts:o,username:s})}function w({showOneToast:e,i18n:t,location:a,history:n,username:i,fullName:u,avatarUrl:_}){if(!(a&&a.search))return;let d=f(t,a,i||""),{message:g}=(0,r.mB)(a.search),h=g===m||g===p;d&&(e(({hideToast:e})=>(0,l.jsx)(o.ZP,{duration:c,onHide:e,text:d,thumbnail:h?{avatar:(0,l.jsx)(s.qE,{name:u||"",size:"md",src:_||""})}:void 0})),n.replace(a.hash?`${a.pathname}${a.hash}`:a.pathname))}},508218:(e,t,a)=>{a.d(t,{Ny:()=>_,ZP:()=>p,eD:()=>g,lp:()=>m,nY:()=>h});var n=a(224796),s=a(807657),o=a(602377),i=a(731714),r=a(702497),l=a(217058),c=a(88682),u=a(623891);let _=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class d{static defaultLoginRedirectUrl(){return window.location.pathname===r.lfe||window.location.pathname===r.ZEf||window.location.pathname.startsWith(r.rOJ)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(r.rOJ)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){let e=i.Z.getItem(n.kl);if(e&&e.indexOf("|")>-1){let t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){let e=i.Z.getItem(n.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();let a=(new Date().getTime()/1e3).toString();t.push(a);let s=t.join("|");i.Z.setItem(n.kl,s)}static isFullyLoggedIn(e,t){return e&&t===o.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";let t=(0,u.Z)();if(t){let a=t.next;a&&(e=a,delete t.next),e=(0,c.Z)(e,t)}}(0,s.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){i.Z.setItem(n.F6,Date.now()),!t&&e&&"/"!==e?d.handleRedirect(e):d.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){let t=window.navigator.credentials;if(t&&e.username_or_email)try{let a=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(a).then(()=>{(0,l.My)("navigatorCredentials.store.success")})}catch(e){(0,l.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,a){(0,l.My)("multi_step_login"),d.storeLoginCredentialsToBrowser(e),a?a(e,t):(0,l.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}let p=d;function m(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function g(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":m(e)}function h(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}},758939:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(729817),s=a(217058);async function o(e){let t=await (0,n.Kw)(),a=t?{user_ids:Object.keys(t)}:{};(0,s.tj)(`mweb_multiple_accounts_${e}`,a)}},373236:(e,t,a)=>{a.d(t,{eN:()=>c,_:()=>_,kB:()=>u});var n=a(702497),s=a(624797),o=a(616550);let i=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/about/koplg/","/about/:lawName/","/about/radtc/","/website/confirm/","/oauth/","/app-factory-oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"],r=(e,t)=>{let a=new URL(e,t);return i.some(e=>!!(0,o.LX)(a.pathname,{path:e,exact:!0}))};var l=a(953565);let c=e=>e&&(0,s.Qg)(e)&&n.lfe!==e?(0,s.Qc)(e).relative:"/",u=(e,t)=>{let a=(0,s.Jx)(e);return r(a,t)||(0,s.OM)(a)===s.vx.TRUSTED_DIFFERENT_ORIGIN},_=({forceFullPageNavigation:e,history:t,next:a,noLocationReplace:n,origin:o})=>{let i=(0,s.Jx)(a);u(a,o)||!t||e?(e&&(0,l.nP)("webapp.duplo.navigateOnLogin.forceFullPageNavigation",{sampleRate:1}),window.location.assign(i)):n?t.push(c(i)):t.replace(c(i))}},27460:(e,t,a)=>{a.d(t,{f:()=>S,l:()=>C});var n=a(667294),s=a(702664),o=a(216167),i=a(224796),r=a(587703),l=a(658583),c=a(622541),u=a(305657),_=a(957753),d=a(820428),p=a(857916),m=a(508218),g=a(340523),h=a(182962),f=a(891276),w=a(5859),v=a(666698),A=a(731714),E=a(191313),b=a(217058),y=a(722363),R=a(407053),T=a(758939),k=a(373236),x=a(546689),P=a(844998),D=a(953565);let L=e=>({type:"AUTHENTICATE_USER",payload:{user:e}}),S=()=>{let e=(0,r.Z)(),t=(0,g.F)(),a=(0,s.useDispatch)(),{country:S,countryFromHostName:C,countryFromIp:Z,regionFromIp:N,userAgent:{isTablet:O,isMobile:I}}=(0,w.B)(),z=(0,h.Z)(),F=(0,y.Z)();return(0,n.useCallback)(async(n,s,r="/",g={isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other",accountUnlinked:!1},h)=>{z();let w=!O&&!I,{isAutologin:y,isSwitchAccount:U,noLocationReplace:j,recaptchaV3Token:B,noImmediateRedirect:M,useAlternativeResourceCall:Y,trigger:W,accountUnlinked:X}=g;A.Z.setItem(i.V6,(0,m.nY)(n));let G=t=>{e({...h,event_type:t,aux_data:{...h.aux_data,upsell_reason:h.aux_data?.upsell_reason||(y?"autologin":A.Z.getItem(i.bg)||null),upsell_view_count:A.Z.getItem(i.w0)||0}}),7536===t&&A.Z.setItem(i.w0,0)},H={get_user:!0,...n,app_type_from_client:6,recaptchaV3Token:B},J=(0,x.t_)();J&&(H={...H,visited_pages_before_login:J});let q=(0,x.OJ)();q&&(H={...H,referrer:q});let $=o.Z.create("UserSessionResource",H).callCreate();if(Y&&n.username_or_email&&n.password){let e=new FormData;e.append("username",n.username_or_email),e.append("password",n.password);let t={method:"POST",body:e,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":(0,u.getCsrfToken)()||"","X-Requested-With":"XMLHttpRequest"}};$=fetch("/resource/UserSessionResource/create/",t).then(e=>{if(200!==e.status)throw Error(e.statusText);return e.json()}).catch(e=>Promise.reject(e))}try{y?(0,b.dy)({event:"login_api_call_start",provider:n.google_open_id_token?"google":"facebook"}):(0,b.EX)({event:"login_api_call_start",provider:(0,m.nY)(n)}),G(7534),F({action:y?"autologin":"login",event:"attempt",type:(0,m.lp)(n),trigger:W});let e=await $;y?(0,b.dy)({event:"login_api_call_success",provider:n.google_open_id_token?"google":"facebook"}):(0,b.EX)({event:"login_api_call_success",provider:(0,m.nY)(n)}),a(L(e.resource_response.data.user));let o=e.client_context,i=e.resource_response.data.user.gatekeeper_experiments;if(i){let{active:e,triggerable:a}=i;e&&a||(0,D.nP)("webapp.authentication.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!e),triggerable:String(!!a)}}),t.updateExperiments(e,a)}else(0,D.nP)("webapp.authentication.updateExperimentsFailed");o&&o.placed_experiences&&a((0,_.OD)(o.placed_experiences)),(0,T.Z)("authentication.login_success"),m.ZP.storeLoginCredentialsToBrowser(n),G(7536),F({action:y?"autologin":"login",event:"success",type:(0,m.lp)(n),trigger:W}),(0,d.Z)(),l.zN(c.e7.name),l.zN(c.x3.name),(0,E.Nh)(R.AA,1),"/"!==r&&(0,P.E)(!0),U?(0,v.Dm)().then(()=>{let t=`/${e.resource_response.data?.user.username||""}`+(X?`?message=${p.aU}`:"");window.location.href=t}):y&&!w||M||(0,k._)({forceFullPageNavigation:w,history:s,next:r,noLocationReplace:j,origin:window.location}),(0,f.ko)({country:S,countryFromHostName:C,countryFromIp:Z,regionFromIp:N,deviceType:"Mobile",eventCategory:"Logins"})}catch(e){if(y?(0,b.dy)({event:"login_api_call_failure",provider:n.google_open_id_token?"google":"facebook"}):(0,b.EX)({event:"login_api_call_failure",provider:(0,m.nY)(n)}),1201!==e.api_error_code||y||w)throw G(7535),F({action:y?"autologin":"login",event:"fail",type:(0,m.lp)(n),trigger:W}),U&&(0,T.Z)("authentication.login_error"),e;if(s){let t={creds:n,next:r,phoneNumber:e.data.phone_number_end};s.push({pathname:"/login/mfa/",state:t})}}},[a,S,C,Z,z,t,I,O,e,N,F])},C=()=>{let e=(0,g.F)(),t=(0,s.useDispatch)(),a=(0,h.Z)();return({client_context:n,resource_response:s})=>{let{data:o}=s;o&&(a(),t(L(o.user)));let i=o.user.gatekeeper_experiments;if(i){let{active:t,triggerable:a}=i;t&&a||(0,D.nP)("webapp.crossDomainAutologin.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!a)}}),e.updateExperiments(t,a)}else(0,D.nP)("webapp.crossDomainAutologin.updateExperimentsFailed");n&&t((0,_.OD)(n.placed_experiences))}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/27460.es_ES-88e2d89262ff39bc.mjs.map